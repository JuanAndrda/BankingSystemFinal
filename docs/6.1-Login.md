# Banking System - Login Screen Documentation

**Project:** Banking Management System Final Project
**Courses:** CIT 207 & CC 204
**Document:** Login Screen - Authentication Gateway
**Date:** December 2025

---

## ğŸ“‘ Navigation

**â† Back to:** [Menu Overview](6-Menu-Overview.md) | **Next:** [Customer Operations â†’](6.2-Customer-Ops.md)

**Menu Documentation Index:**
- [6-Menu-Overview.md](6-Menu-Overview.md) - Architecture and summary tables
- **6.1-Login.md** - â† You are here
- [6.2-Customer-Ops.md](6.2-Customer-Ops.md) - Customer Operations (Admin #1-4)
- [6.3-Account-Ops.md](6.3-Account-Ops.md) - Account Operations (Admin #5-9)
- [6.4-Transaction-Ops.md](6.4-Transaction-Ops.md) - Transaction Operations (Admin #10-13, Customer #2-5)
- [6.5-Profile-Reports.md](6.5-Profile-Reports.md) - Profile & Reports (Admin #14-19)
- [6.6-Security-Session.md](6.6-Security-Session.md) - Security & Session (Admin #21, #0, #20)

---

## Overview

The login screen is the **entry point** to the Banking System. It is not a numbered menu option but rather an authentication gate that determines which role-based menu the user will see after successful login.

---

## 1. Login Details

| Property | Value |
|----------|-------|
| **Screen Type** | Authentication Gateway |
| **Menu Number** | N/A (pre-menu) |
| **Handler Method** | `AuthenticationManager.login(Scanner)` |
| **Source File** | `src/com/banking/managers/AuthenticationManager.java:48-91` |
| **Returns** | `User` object (Admin or UserAccount) or `null` on failure |
| **Max Attempts** | 3 |
| **Security** | Generic error messages (doesn't reveal username/password validity) |

---

## 2. Purpose and Functionality

The login screen authenticates users and routes them to the appropriate role-based menu:

**For Admin users:**
- Displays 21-option Admin Menu
- Grants access to all system operations
- Enables customer/account management

**For Customer users:**
- Displays 7-option Customer Menu (ATM Mode)
- Restricts access to own accounts only
- Limited to basic banking operations

**Security Features:**
- 3-attempt limit before system exit
- Generic error messages (security best practice)
- Audit logging of all login attempts
- No registration option (users pre-created by admins)

---

## 3. Step-by-Step Code Flow

### Step 1: Login Screen Display

**Location:** `AuthenticationManager.java:48-51`

```java
System.out.println("\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
System.out.println("â•‘   BANKING SYSTEM - LOGIN REQUIRED   â•‘");
System.out.println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");
```

The system displays a professional box-drawing character header.

### Step 2: Input Collection

**Location:** `AuthenticationManager.java:53-61`

```java
this.loginAttempts = 0;
int maxAttempts = 3;

while (loginAttempts < maxAttempts) {
    System.out.print("â†’ Username: ");
    String username = sc.nextLine().trim();

    System.out.print("â†’ Password: ");
    String password = sc.nextLine().trim();
```

- Reset attempt counter to 0
- Enter retry loop (max 3 attempts)
- Prompt for username (trimmed for whitespace)
- Prompt for password (trimmed, but NOT masked - console limitation)

### Step 3: Authentication Check

**Location:** `AuthenticationManager.java:63-73`

```java
boolean authenticated = false;
User foundUser = null;

for (User user : userRegistry) {  // LinkedList<User> iteration
    if (user.getUsername().equals(username) && user.authenticate(password)) {
        authenticated = true;
        foundUser = user;
        break;  // Stop searching once match found
    }
}
```

**Data Structure Used:** `LinkedList<User> userRegistry`

**Algorithm:** Linear search through user registry
- **Time Complexity:** O(n) where n = number of users
- **Why LinkedList?** User registry is small, sequential access is fine
- **Security:** Checks username AND password together (no separate checks)
- **Polymorphism:** `user` can be `Admin` or `UserAccount` (both extend `User`)

### Step 4: Success Path

**Location:** `AuthenticationManager.java:76-80`

```java
if (authenticated) {
    this.currentUser = foundUser;
    System.out.println("âœ“ Login successful! Welcome, " + username + "\n");
    logAction(username, foundUser.getUserRole(), "LOGIN_SUCCESS",
              "User logged in successfully");
    return foundUser;  // Returns Admin or UserAccount object
}
```

**Session Management:**
- Set `currentUser` field (session tracking)
- Display success message
- Log successful login to audit trail (Stack operation)
- Return User object to caller (BankingSystem.main)

**Next Step:** BankingSystem determines menu based on `user.getUserRole()`

### Step 5: Failure Path

**Location:** `AuthenticationManager.java:81-86`

```java
else {
    // Generic error message for security
    // (doesn't reveal if username or password was wrong)
    loginAttempts++;
    System.out.println("âœ— Invalid credentials. Attempt " +
                       loginAttempts + "/" + maxAttempts);
    logAction(null, null, "LOGIN_FAILED",
              "Invalid credentials for: " + username);
}
```

**Security Best Practices:**
- Generic error message (prevents username enumeration)
- Increment attempt counter
- Log failed attempt to audit trail
- Username logged for security monitoring (admin can review)

### Step 6: Max Attempts Exceeded

**Location:** `AuthenticationManager.java:89-90`

```java
System.out.println("\nâœ— LOGIN FAILED: Maximum attempts exceeded. Exiting...\n");
return null;  // Signals to Main.java to exit application
```

**After 3 failed attempts:**
- Display error message
- Return `null` to Main.java
- Main.java exits JVM (System.exit)

### Step 7: Audit Logging

**Location:** `AuthenticationManager.java:107-124`

```java
public void logAction(String username, UserRole role, String action, String details) {
    try {
        AuditLog log = new AuditLog(
            LocalDateTime.now(),
            username == null ? "SYSTEM" : username,
            role == null ? UserRole.ADMIN : role,  // Default for failed logins
            action,
            details
        );
        auditTrail.push(log);  // Stack operation - LIFO (newest first)
    } catch (IllegalArgumentException e) {
        System.err.println("âš  Failed to log action: " + e.getMessage());
    }
}
```

**Data Structure Used:** `Stack<AuditLog> auditTrail`

**Why Stack?**
- LIFO display (most recent activity shown first)
- Security monitoring focuses on recent events
- Matches industry standard log viewing

---

## 4. Code Snippets

### Full Login Method

**File:** `src/com/banking/managers/AuthenticationManager.java:48-91`

```java
public User login(Scanner sc) {
    System.out.println("\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
    System.out.println("â•‘   BANKING SYSTEM - LOGIN REQUIRED   â•‘");
    System.out.println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");

    this.loginAttempts = 0;
    int maxAttempts = 3;

    while (loginAttempts < maxAttempts) {
        System.out.print("â†’ Username: ");
        String username = sc.nextLine().trim();

        System.out.print("â†’ Password: ");
        String password = sc.nextLine().trim();

        // Try to authenticate (checks username AND password together)
        boolean authenticated = false;
        User foundUser = null;

        for (User user : userRegistry) {
            if (user.getUsername().equals(username) && user.authenticate(password)) {
                authenticated = true;
                foundUser = user;
                break;
            }
        }

        // Check result and handle accordingly
        if (authenticated) {
            this.currentUser = foundUser;
            System.out.println("âœ“ Login successful! Welcome, " + username + "\n");
            logAction(username, foundUser.getUserRole(), "LOGIN_SUCCESS",
                      "User logged in successfully");
            return foundUser;
        } else {
            // Generic error message for security
            loginAttempts++;
            System.out.println("âœ— Invalid credentials. Attempt " +
                               loginAttempts + "/" + maxAttempts);
            logAction(null, null, "LOGIN_FAILED",
                      "Invalid credentials for: " + username);
        }
    }

    System.out.println("\nâœ— LOGIN FAILED: Maximum attempts exceeded. Exiting...\n");
    return null;
}
```

### User Authentication Method (Polymorphic)

**File:** `src/com/banking/auth/User.java:30-36`

```java
/**
 * Authenticates the user with a password.
 * Called polymorphically - works for both Admin and UserAccount.
 *
 * @param password The password to verify
 * @return true if password matches, false otherwise
 */
public boolean authenticate(String password) {
    if (password == null || this.password == null) {
        return false;
    }
    return this.password.equals(password);  // Simple equality check
}
```

**Note:** Production systems should use bcrypt/Argon2 hashing. Plain text passwords are for educational purposes only.

---

## 5. Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LOGIN FLOW DIAGRAM                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Input (Username + Password)
    â”‚
    â”œâ”€â”€â†’ Scanner.nextLine().trim()
    â”‚
    â”œâ”€â”€â†’ AuthenticationManager.login()
    â”‚
    â”œâ”€â”€â†’ Iterate LinkedList<User> userRegistry
    â”‚         â”‚
    â”‚         â”œâ”€â”€â†’ For each User (polymorphic: Admin or UserAccount)
    â”‚         â”‚         â”‚
    â”‚         â”‚         â””â”€â”€â†’ user.getUsername().equals(username)
    â”‚         â”‚                    â”‚
    â”‚         â”‚                    â””â”€â”€â†’ user.authenticate(password)
    â”‚         â”‚                              â”‚
    â”‚         â”‚                              â””â”€â”€â†’ Boolean result
    â”‚         â”‚
    â”‚         â””â”€â”€â†’ If match found â†’ Set currentUser
    â”‚
    â”œâ”€â”€â†’ Log to Stack<AuditLog> auditTrail
    â”‚         â”‚
    â”‚         â””â”€â”€â†’ auditTrail.push(new AuditLog(...))
    â”‚
    â””â”€â”€â†’ Return User object or null
              â”‚
              â”œâ”€â”€â†’ Success: User object (Admin or UserAccount)
              â”‚       â”‚
              â”‚       â””â”€â”€â†’ BankingSystem.main() determines menu by role
              â”‚
              â””â”€â”€â†’ Failure (3 attempts): null
                      â”‚
                      â””â”€â”€â†’ Main.java exits application
```

---

## 6. Example Usage

### Scenario 1: Successful Admin Login

**Console Input/Output:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   BANKING SYSTEM - LOGIN REQUIRED   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Username: admin
â†’ Password: admin123
âœ“ Login successful! Welcome, admin

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ BANKING MANAGEMENT SYSTEM          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ CUSTOMER OPERATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ [1] Create Customer
â”‚ [2] View Customer Details
â”‚ [3] View All Customers
â”‚ [4] Delete Customer
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
...
```

**Data After:**
```java
currentUser = Admin("admin", "admin123", UserRole.ADMIN)
auditTrail.peek() = AuditLog {
    timestamp: 2025-12-04T14:32:10,
    username: "admin",
    role: ADMIN,
    action: "LOGIN_SUCCESS",
    details: "User logged in successfully"
}
```

---

### Scenario 2: Successful Customer Login

**Console Input/Output:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   BANKING SYSTEM - LOGIN REQUIRED   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Username: alice
â†’ Password: alice123
âœ“ Login successful! Welcome, alice

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ TRANSACTION MENU (ATM Mode)       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ ACCOUNT OPERATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ [1] View Account Details
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€ TRANSACTION OPERATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ [2] Deposit Money
â”‚ [3] Withdraw Money
â”‚ [4] Transfer Money
â”‚ [5] View Transaction History
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
...
```

**Data After:**
```java
currentUser = UserAccount("alice", "alice123", UserRole.CUSTOMER, "C001")
auditTrail.peek() = AuditLog {
    timestamp: 2025-12-04T14:35:22,
    username: "alice",
    role: CUSTOMER,
    action: "LOGIN_SUCCESS",
    details: "User logged in successfully"
}
```

---

### Scenario 3: Failed Login Attempts

**Console Input/Output:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   BANKING SYSTEM - LOGIN REQUIRED   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Username: hacker
â†’ Password: password123
âœ— Invalid credentials. Attempt 1/3

â†’ Username: admin
â†’ Password: wrongpass
âœ— Invalid credentials. Attempt 2/3

â†’ Username: admin
â†’ Password: stillwrong
âœ— Invalid credentials. Attempt 3/3

âœ— LOGIN FAILED: Maximum attempts exceeded. Exiting...

[Application exits]
```

**Data After:**
```java
currentUser = null
auditTrail contains 3 new entries:

AuditLog { username: "SYSTEM", action: "LOGIN_FAILED", details: "Invalid credentials for: hacker" }
AuditLog { username: "SYSTEM", action: "LOGIN_FAILED", details: "Invalid credentials for: admin" }
AuditLog { username: "SYSTEM", action: "LOGIN_FAILED", details: "Invalid credentials for: admin" }
```

**Security Note:** Admin can later review audit trail to see failed login attempts and investigate suspicious activity.

---

### Scenario 4: Error - Empty Input

**Console Input/Output:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   BANKING SYSTEM - LOGIN REQUIRED   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Username:
â†’ Password:
âœ— Invalid credentials. Attempt 1/3

â†’ Username: admin
â†’ Password: admin123
âœ“ Login successful! Welcome, admin
```

**Note:** Empty strings (after trim) simply fail authentication. No special error handling needed - generic error message applies.

---

## Related Documentation

- **[6-Menu-Overview.md](6-Menu-Overview.md)** - Complete menu architecture
- **[5-Security-Features.md](5-Security-Features.md)** - Full security analysis (authentication, RBAC, audit logging)
- **[3-Error-Handling.md](3-Error-Handling.md)** - Input validation and error handling patterns

---

**â† Back to:** [Menu Overview](6-Menu-Overview.md) | **Next:** [Customer Operations â†’](6.2-Customer-Ops.md)

